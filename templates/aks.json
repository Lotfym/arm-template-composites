{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "resources": {
            "value": {
                "options": {
                    "value": {
                        "copyMode": "serial"
                    }
                },
                "managedClusters": [
                    {
                        "name": "aks-dev-koko-01",
                        "virtualNetwork": {
                            "name": "vn-eastus-10.1.0.0-19",
                            "resourceGroup": "network"
                        },
                        "properties": {
                            "kubernetesVersion": "1.18.14",
                            "enableRBAC": true,
                            "dnsPrefix": "aks-dev-koko-01",
                            "aadProfile": {
                                "managed": true,
                                "adminGroupObjectIDs": [
                                    "a47c9a35-44a6-4869-81bc-e6c01efa7909"
                                ]
                            },
                            "agentPoolProfiles": [
                                {
                                    "name": "system",
                                    "osDiskSizeGB": 0,
                                    "count": 1,
                                    "vmSize": "Standard_B2s",
                                    "osType": "Linux",
                                    "storageProfile": "ManagedDisks",
                                    "type": "VirtualMachineScaleSets",
                                    "mode": "System",
                                    "vnetSubnetID": "[resourceId('network', 'Microsoft.Network/virtualNetworks/subnets', 'vn-eastus-10.1.0.0-19', 'sn-eastus-10.1.0.0-24')]",
                                    "nodeTaints": [
                                        "CriticalAddonsOnly=true:NoSchedule"
                                    ]
                                },
                                {
                                    "name": "linux",
                                    "osDiskSizeGB": 0,
                                    "count": 1,
                                    "vmSize": "Standard_B2ms",
                                    "osType": "Linux",
                                    "storageProfile": "ManagedDisks",
                                    "type": "VirtualMachineScaleSets",
                                    "mode": "User",
                                    "vnetSubnetID": "[resourceId('network', 'Microsoft.Network/virtualNetworks/subnets', 'vn-eastus-10.1.0.0-19', 'sn-eastus-10.1.1.0-24')]"
                                }
                            ],
                            "nodeResourceGroup": "aks-dev-koko-01-nodes",
                            "networkProfile": {
                                "loadBalancerSku": "standard",
                                "networkPlugin": "azure",
                                "networkPolicy": "calico",
                                "serviceCidr": "192.168.0.0/24",
                                "dnsServiceIP": "192.168.0.10",
                                "dockerBridgeCidr": "172.17.0.1/16"
                            },
                            "apiServerAccessProfile": {
                                "enablePrivateCluster": true
                            },
                            "addonProfiles": {
                                "httpApplicationRouting": {
                                    "enabled": false
                                }
                            }
                        },
                        "identity": {
                            "type": "SystemAssigned"
                        }
                    }
                ]
            }
        }
    }
}